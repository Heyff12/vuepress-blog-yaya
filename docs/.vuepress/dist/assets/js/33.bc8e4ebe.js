(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{366:function(a,t,e){"use strict";e.r(t);var _=e(9),v=Object(_.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"一、小程序跳转方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、小程序跳转方式"}},[a._v("#")]),a._v(" 一、小程序跳转方式")]),a._v(" "),e("h3",{attrs:{id:"_1、wx-switchtab-object-object"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、wx-switchtab-object-object"}},[a._v("#")]),a._v(" 1、wx.switchTab(Object object)")]),a._v(" "),e("blockquote",[e("p",[a._v("跳转到 tabBar 页面，并关闭其他所有非 tabBar 页面")])]),a._v(" "),e("blockquote",[e("p",[a._v("需要跳转的 tabBar 页面的路径 (代码包路径)（需在 app.json 的 tabBar 字段定义的页面），路径后不能带参数。")])]),a._v(" "),e("p",[a._v("使用备注：由于tabBar在切换器需要获取收取及是否登录的判断，故当前小程序的tabBar是自定义组件，该跳转无效")]),a._v(" "),e("p",[e("em",[e("strong",[a._v("只有该方法的url参数，不能进行拼接，必须跟tabBar配置的路由一模一样；wx.navigateBack没有url参数")])])]),a._v(" "),e("h3",{attrs:{id:"_2、wx-relaunch-object-object"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、wx-relaunch-object-object"}},[a._v("#")]),a._v(" 2、wx.reLaunch(Object object)")]),a._v(" "),e("blockquote",[e("p",[a._v("关闭所有页面，打开到应用内的某个页面")])]),a._v(" "),e("h3",{attrs:{id:"_3、wx-redirectto-object-object"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、wx-redirectto-object-object"}},[a._v("#")]),a._v(" 3、wx.redirectTo(Object object)")]),a._v(" "),e("blockquote",[e("p",[a._v("关闭当前页面，跳转到应用内的某个页面。但是不允许跳转到 tabbar 页面。")])]),a._v(" "),e("p",[e("em",[e("strong",[a._v("导航样式：\n如果当前只有一个路由层级，导航header左侧会默认显示可以进入“首页”的图标")])])]),a._v(" "),e("h3",{attrs:{id:"_4、wx-navigateto-object-object"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4、wx-navigateto-object-object"}},[a._v("#")]),a._v(" 4、wx.navigateTo(Object object)")]),a._v(" "),e("blockquote",[e("p",[a._v("保留当前页面，跳转到应用内的某个页面。但是不能跳到 tabbar 页面。使用 wx.navigateBack可以返回到原页面。小程序中页面栈最多十层。")])]),a._v(" "),e("blockquote",[e("p",[a._v("events用于监听被打开页面发送到当前页面的数据。")])]),a._v(" "),e("p",[a._v("导航样式：导航header左侧会默认显示“返回”的图标")]),a._v(" "),e("h3",{attrs:{id:"_5、wx-navigateback-object-object"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5、wx-navigateback-object-object"}},[a._v("#")]),a._v(" 5、wx.navigateBack(Object object)")]),a._v(" "),e("blockquote",[e("p",[a._v("关闭当前页面，返回上一页面或多级页面。可通过 getCurrentPages 获取当前的页面栈，决定需要返回几层。")])]),a._v(" "),e("blockquote",[e("p",[a._v("通过参数delta设置返回的页面数，如果delta大于现有页面数，则返回到首页。默认值为1")])]),a._v(" "),e("h2",{attrs:{id:"二、二货集小程序路由分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、二货集小程序路由分析"}},[a._v("#")]),a._v(" 二、二货集小程序路由分析")]),a._v(" "),e("h3",{attrs:{id:"_1、目前所有pages-总计10个"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、目前所有pages-总计10个"}},[a._v("#")]),a._v(" 1、目前所有pages——总计10个")]),a._v(" "),e("blockquote",[e("p",[a._v("存在潜在路由层级超过10个风险")])]),a._v(" "),e("p",[e("em",[e("strong",[a._v("当路由层级达到10个时，wx.navigateTo将无法打开新页面")])])]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("'pages/index/index',\n'pages/publish/index',\n'pages/detail/index',\n'pages/search/index',\n'pages/profile/index',\n'pages/profile/contact/index',\n'pages/profile/contact/add/index',\n'pages/profile/edit/index',\n'pages/profile/feedback',\n'pages/myProductList/index',\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br")])]),e("h3",{attrs:{id:"_2、路由跳转方式使用现状"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、路由跳转方式使用现状"}},[a._v("#")]),a._v(" 2、路由跳转方式使用现状")]),a._v(" "),e("h4",{attrs:{id:"_2-1、wx-redirectto的使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1、wx-redirectto的使用"}},[a._v("#")]),a._v(" 2.1、wx.redirectTo的使用")]),a._v(" "),e("blockquote",[e("p",[a._v("使用条件")])]),a._v(" "),e("ul",[e("li",[a._v("不需要返回到当前页面时")]),a._v(" "),e("li",[a._v("同时，其他页面仍需要返回显示时")])]),a._v(" "),e("blockquote",[e("p",[a._v("使用效果")])]),a._v(" "),e("ul",[e("li",[a._v("关闭当前页面，同时打开一个新页面，即便新页面还在路由栈里\n"),e("ul",[e("li",[a._v("在新页面不会返回到当前页面")])])]),a._v(" "),e("li",[a._v("路由栈层级级数不变\n"),e("ul",[e("li",[a._v("跟在当前页的路由栈层级比较起来，层级不变")]),a._v(" "),e("li",[a._v("跟进入该页面之前比起来，路由栈层级增加1")]),a._v(" "),e("li",[a._v("如果反复进入该当前页面，则会导致路由层级不断增加")]),a._v(" "),e("li",[a._v("需要谨慎使用")])])])]),a._v(" "),e("blockquote",[e("p",[a._v("使用页面")])]),a._v(" "),e("ul",[e("li",[a._v("发布页面，在新建状态下，提交成功后，进入“该商品详情页”\n"),e("ul",[e("li",[a._v("从发布页接入详情页，不需要再次返回进入发布页")]),a._v(" "),e("li",[a._v("进入详情页后，依然需要保持之前的页面存在，进行正常返回")])])])]),a._v(" "),e("h4",{attrs:{id:"_2-2、自定义tabbar跳转方式wx-relaunch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2、自定义tabbar跳转方式wx-relaunch"}},[a._v("#")]),a._v(" 2.2、自定义tabBar跳转方式wx.reLaunch")]),a._v(" "),e("blockquote",[e("p",[a._v("使用效果")])]),a._v(" "),e("ul",[e("li",[a._v("每次切换，都会关闭当前的所有页面，继而打开一个新页面\n"),e("ul",[e("li",[a._v("如果使用wx.navigateTo，通过tabBar的切换，很快就会超过10个路由栈层级")]),a._v(" "),e("li",[a._v("如果使用wx.redirectTo，存在路由栈超过10级的风险")])])])]),a._v(" "),e("blockquote",[e("p",[a._v("tabBar使用页面")])]),a._v(" "),e("ul",[e("li",[a._v("首页——'pages/index/index'")]),a._v(" "),e("li",[a._v("发布——'pages/publish/index'")]),a._v(" "),e("li",[a._v("个人中心——'pages/profile/index'")])]),a._v(" "),e("h4",{attrs:{id:"_2-3、wx-relaunch方式的使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3、wx-relaunch方式的使用"}},[a._v("#")]),a._v(" 2.3、wx.reLaunch方式的使用")]),a._v(" "),e("blockquote",[e("p",[a._v("使用效果")])]),a._v(" "),e("ul",[e("li",[a._v("关闭当前所有页面，打开一个新页面")]),a._v(" "),e("li",[a._v("路由栈层级级数变成1")])]),a._v(" "),e("blockquote",[e("p",[a._v("使用页面")])]),a._v(" "),e("ul",[e("li",[a._v("tabBar组件")]),a._v(" "),e("li",[a._v("搜索页面，点击“取消/返回”按钮，进回“首页”\n"),e("ul",[e("li",[a._v("如果该页面使用wx.navigateTo，则进入的“首页”header部分会显示“返回”图标")]),a._v(" "),e("li",[a._v("如果该页面使用wx.redirectTo，反复执行“首页——搜索页——首页”这个操作路径，会导致层级达到10级")]),a._v(" "),e("li",[a._v("该页面，也可以使用wx.navigateBack。在不清楚之后会有什么样交互的前提下，wx.reLaunch更加保险")])])])]),a._v(" "),e("h4",{attrs:{id:"_2-4、wx-navigateback方式的使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-4、wx-navigateback方式的使用"}},[a._v("#")]),a._v(" 2.4、wx.navigateBack方式的使用")]),a._v(" "),e("blockquote",[e("p",[a._v("使用条件")])]),a._v(" "),e("ul",[e("li",[a._v("不需要返回到当前页面时")]),a._v(" "),e("li",[a._v("返回层级数目明确的情况下使用")])]),a._v(" "),e("blockquote",[e("p",[a._v("使用效果")])]),a._v(" "),e("ul",[e("li",[a._v("关闭当前页面，进入之前的页面\n"),e("ul",[e("li",[a._v("在之前的页面点击返回按钮，不会再进入该页面")])])]),a._v(" "),e("li",[a._v("路由栈层级减少一级\n"),e("ul",[e("li",[a._v("跟在当前页的路由栈层级比较起来，减少一级")]),a._v(" "),e("li",[a._v("跟进入该页面之前比起来，路由栈层级不变")])])])]),a._v(" "),e("blockquote",[e("p",[a._v("使用页面")])]),a._v(" "),e("ul",[e("li",[a._v("发布页面，在编辑状态下，提交成功后，返回“该商品详情页”")]),a._v(" "),e("li",[a._v("发布页面，在编辑状态下，如果获取初始信息失败，返回“该商品详情页”")]),a._v(" "),e("li",[a._v("新增联系方式页面，提交成功后，返回“联系方式列表页面”")])]),a._v(" "),e("h4",{attrs:{id:"_2-5、wx-navigateto方式的使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-5、wx-navigateto方式的使用"}},[a._v("#")]),a._v(" 2.5、wx.navigateTo方式的使用")]),a._v(" "),e("blockquote",[e("p",[a._v("使用条件")])]),a._v(" "),e("ul",[e("li",[a._v("需要返回到当前页面时，使用该方法")])]),a._v(" "),e("blockquote",[e("p",[a._v("使用效果")])]),a._v(" "),e("ul",[e("li",[a._v("保留当前页面，打开一个页面\n"),e("ul",[e("li",[a._v("可以在新页面返回到当前页面")])])]),a._v(" "),e("li",[a._v("路由栈层级增加一级")]),a._v(" "),e("li",[a._v("谨慎使用")])]),a._v(" "),e("blockquote",[e("p",[a._v("使用页面")])]),a._v(" "),e("ul",[e("li",[a._v("首页推荐产品、搜索结果页，点击商品图片，进入“该商品详情页”")]),a._v(" "),e("li",[a._v("首页分类模块，点击“分类图标”，进入“搜索-结果页”")]),a._v(" "),e("li",[a._v("首页搜索模块，点击“搜索栏”，进入“搜索页”")]),a._v(" "),e("li",[a._v("商品详情页面，点击“管理——编辑”，进入“发布页面-编辑态”")]),a._v(" "),e("li",[a._v("搜索页面-模糊搜索结果，点击“商品标题”，进入“该商品详情页”")]),a._v(" "),e("li",[a._v("个人中心，进入“修改个人信息页面”、“反馈页面”、“进入联系方式页面”、“发布/收藏产品列表页面”")]),a._v(" "),e("li",[a._v("个人中心-我的发布、我的收藏页面，点击商品图片，进入“该商品详情页”")]),a._v(" "),e("li",[a._v("个人中心-联系方式页面，点击“新增按钮”，进入“新增页面”")])]),a._v(" "),e("h2",{attrs:{id:"三、注意事项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、注意事项"}},[a._v("#")]),a._v(" 三、注意事项")]),a._v(" "),e("ul",[e("li",[a._v("尽量保证每个跳转循环完成后，路由层级不会增加，最好只有一个路由层级")]),a._v(" "),e("li",[a._v("注意出现页面跳转循环的路径")])]),a._v(" "),e("h2",{attrs:{id:"四、分包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、分包"}},[a._v("#")]),a._v(" 四、分包")]),a._v(" "),e("ul",[e("li",[a._v("app:首页 商品详情页")]),a._v(" "),e("li",[a._v("搜索")]),a._v(" "),e("li",[a._v("发布")]),a._v(" "),e("li",[a._v("个人中心")])])])}),[],!1,null,null,null);t.default=v.exports}}]);